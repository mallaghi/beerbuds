{% extends "core/base.html" %}

{% block title %}{{ beer.name }}{% endblock %}

{% block content %}

  <div>
    <div class="p-4 mb-4 absolute left-0">
      <a href="{% url 'marketplace:beer_index' %}" class="bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-700">  <-- Back to beers </a>
    </div>
  </div>

  <div class="container-sm flex flex-row justify-between rounded-xl px-10">

    <div class="max-w-xs rounded-xl basis-2/5 flex justify-center">
      <img src="{{ beer.beer_image }}" alt="{{ beer.name }}" class="mt-4 h-auto max-h-80">
    </div>

    <div class="p-4 rounded-xl basis-3/5">
      <div class="container p-4 border-2 rounded-xl border-transparent">
        <div class="flex flex-row justify-between">
          <h1 class="text-2xl font-bold mb-4">{{ beer.name }}</h1>
          <a href="{% url 'user_actions:add_favourite' beer.id %}">
            <button class="fa-regular fa-heart" style="color: #ff0000;"></button>
          </a>
          {% comment %} <a href="{% url 'user_actions:add_favourite' beer.id %}" class="bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-700"></a> {% endcomment %}
        </div>

        <div class="flex flex-row justify-between">
          <p>Price: Â£{{ beer.price }}</p>
          <p>Alcohol Percentage: {{ beer.abv }}%</p>
        </div>
        <p>Rating: 0/10</p>
        <p>Description: </p>
        <p class="text-sm mb-4">{{ beer.description }}</p>
          <div class="flex flex-row justify-between">
            <a href="{% url 'user_actions:beer_reviews_index' beer.id %}" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-700">See Reviews</a>
            <a href="{% url 'user_actions:create_review' beer.id %}" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700">Write a Review</a>
          </div>
        <div class="mt-6">
          {% comment %} <a href="{% url 'user_actions:create_review' beer.id %}" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700">Write a Review</a> {% endcomment %}

          {% comment %} <a href="{% url 'user_actions:beer_reviews_index' beer.id %}" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-700">See Reviews</a> {% endcomment %}

          {% comment %} <a href="{% url 'user_actions:add_favourite' beer.id %}" class="bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-700">Add to Favourites</a> {% endcomment %}

          <a href="{% url 'user_actions:beer_favourites_index' beer.id %}" class="bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-700">See Favourites</a>

        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% comment %} need to add logic to caluclate and display ratings,
need to add contstraint in the reivew model to limit ratings from 1-10 and remove the review limit from 50 to 10 words,
need to add logic likely javascript to get the favourite button working and have it not leave the show page when clicked
need to figure out styling for show page and where to put reviews buttons {% endcomment %}
